---
layout: post
title: "21. 04. 27. TIL"
date: 2021-04-27
category: read 
excerpt: ""


---

# 21. 04. 27. TIL

> 오늘 한 일  
    1. 날씨 앱 프로젝트: 뷰 - 날씨 연결 중...  
    2. 네트워크 8강: Transport Layer (4)  
    3. 알고리즘 3문제  
    4. iOS Interview 3개 내용 정리  

## New knowledge

---

### CLLocationDelegate 메서드를 통해 특정 동작을 할 수 있다.  
- 우선, 현재 위치를 업데이트 했을 때 실행되는 메서드는 아래와 같다.  

    ```swift
    // MARK: - CLLocationManagerDelegate Methods
    extension WeatherViewController: CLLocationManagerDelegate {
        func locationManager(_ manager: CLLocationManager, didUpdateLocations locations: [CLLocation]) {
            // 위치가 업데이트 되면, 업데이트를 멈추고 해당 위치의 날씨를 받아온다.
            if let location = locations.last {
                locationManager.stopUpdatingLocation()
                let lat = location.coordinate.latitude
                let lon = location.coordinate.longitude
                fetchWeather(lat: lat, lon: lon)
            }
        }
    }
    ```
  
- 위 메서드 외에도 특정 위치에 입장 또는 퇴장 시 실행되는 메서드 등 다양한 메서드를 제공한다.  

### UTC Time Format으로 시간 표현하기  
- Weather API를 사용하는데, 받아오는 시간 값(dt)이 "1619532000"와 같은 형식으로 작성되어  
    있어서, 분, 초, 시간, 년으로 나누고 계산해보니 1970년 1월 1일부터 초로 계산하는 것 같다.  
  
    UTC +0을 기준으로 작성된 시간이라 Timezone 별로 제공되는 offset을 적용 해야할 듯 하다.   

### App Bundle의 구조와 역할에 대해 설명하시오.  
- Application Bundle  
    어플리케이션 번들은 앱의 성공적인 실행에 필요한 모든 것을 저장한다.  
    플랫폼에 따라 특정 구조가 다를 수는 있지만, 사용 방식은 동일하다.  
  
- iOS 앱에서 일반적인 번들의 구조는 아래와 같다.  
    ![Screen Shot 2021-04-27 at 11 32 57 PM](https://user-images.githubusercontent.com/46529663/116259712-00d5e580-a7b1-11eb-8acf-51500cf63b3c.png)

---

### View 객체에 대해 설명하시오.  
- View: UI를 구성하는 기본 구성 요소  
- UIView  
    - UIVIew는 스크린 위에 직사각형 영역을 관리하는 객체이다.  
    - UIView 클래스는 모든 뷰의 공통적인 동작을 정의한다.  
    - 뷰 객체는 자신의 사각형 경계 내에서 콘텐츠를 제공하고, 상호작용을 핸들링한다.  
    - 뷰 객체를 상속하여 더 정교한 콘텐츠를 만들 수도 있다.  
    - 일반적으로 앱에서 찾을 수 있는 레이블, 이미지, 버튼 등의  
        인터페이스 요소는 UIKit이 제공하는 UIView의 자식 클래스를 이용하여 제공된다.  
  
    - View는 유저와 상호작용하는 주요 방법이기 때문에, View들은 몇가지 책임이 있다.  
        - Drawing and animation  
            - Draw content using UIKit or Core Graphics  
        - Layout and subview management  
            - Views may contain zero or more subviews  
            - Views can adjust the size and position of their subviews  
            - Auto Layout  
        - Event handling  
            - UIResponder(Respond to touches and other types of events)  
            - Install Gesture recognizer and handle common gestures  
  
    - 뷰는 다른 뷰 내에 중첩되어 뷰 계층을 만들 수 있다.  
  
    - 일반적으로 스토리보드에서 뷰를 생성하려면, 라이브러리에서 드래그 해 온다.  
        또 다른 방법으로는 코드로 정의해줄 수 있다.  
  
    - 스레드 고려사항  
        앱의 UI를 조정하는 것은 Main thread에서만 발생할 수 있다.  
        그렇기에 UIView 클래스의 메서드들은 모두 main thread에서만 호출해야 한다.  
        유일하게 view 객체를 생성할 때는 main thread 외에서도 가능하다.

---

### UIView에서 Layer 객체는 무엇이고 어떤 역할을 담당하는지 설명하시오.  
- layerClass 클래스 프로퍼티를 이용해 Core Animation layer를 생성한다.  
- Core Animation layer는 CALayer 타입으로 View 객체에 layer 프로퍼티로 존재한다.  
- CALayer  
    - 이미지 기반의 컨텐츠를 관리하고, 컨텐츠에서 애니메이션을 수행하도록 해주는 객체  
    - 배경색, 가장 자리, 그림자 등의 시각적 속성을 가진다.  
    - 시각적 컨텐츠를 관리한다.  
    - 시각적 컨텐츠의 위치, 사이즈, 번형등의 정보를 가진다.  
    - 일반적으로 뷰에서 레이어 객체가 생성되면, 뷰 자신을 레이어의 대리자로 지정한다.  
    - 만약 레이어를 별도로 생성한다면, 레이어를 제공하기 위해 특정 객체를 대리자로 지정해야 한다.  
