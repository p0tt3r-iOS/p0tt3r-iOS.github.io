---
layout: post
title: "21. 04. 12. TIL"
date: 2021-04-12
category: read 
excerpt: ""


---

# 21. 04. 12. TIL

> 오늘 한 일  
    1. Instagram Clone 마무리  
    2. 개인 프로젝트 계획 작성 및 Choice, Setting View 구현  
    3. Data Structures & Algorithms in Swift, Chapter 3

## New Knowledge
---
- UITableViewCell height based on device screen  
    - 기기별 화면 높이에 맞춘 테이블뷰 셀 높이 조정  

    ```swift
    // 예시: 선택지를 모두 스크린 내에 넣기 위해 스크린 높이 / 선택지 개수
    func tableView(_ tableView: UITableView, heightForRowAt indexPath: IndexPath) -> CGFloat {
        return UIScreen.main.bounds.height / choices.count
    }
    ```

- Execute action when back button of UINavigationController is pressed
    네비게이션바 백 버튼 클릭 했을 때, 특정 액션을 실행하는 법  
    1. 기존 백버튼을 없애고, 새로 만들어서 액션을 연결(선호되지 않음(기본 동작, 스타일을 잃는다))

        ```swift
        override func viewDidLoad() {
        	super.viewDidLoad()
        	self.navigationItem.hidesBackButton = true
        	let newBackButton = UIBarButtonItem(title: "Back", 
        																			style: UIBarButtonItemStyle.Bordered, 
        																			target: self, 
        																			action: "back:")
        	self.navigationItem.leftBarButtonItem = newBackButton
        }

        func back(sender: UIBarButtonItem) {
        	// 여기서 액션 실행하고
        	someAction()
        	// 현재 뷰를 팝 시킨다.
        	_ = navigationController?.popViewController(animated: true)
        }
        ```

    2. viewWillDisappear(_ animated: Bool) 메서드에서 isMovingFromParent 프로퍼티 사용

        ```swift
        override func viewWillDisappear(_ animated: Bool) {
        	super.viewWillDisappear(animated)

        	// if문으로 부모 뷰 컨트롤러에서 현재 뷰가 제거되었으면, 액션 실행
        	if self.isMovingFromParent {
        		// 여기서 액션 실행
        		someAction()
        	}
        }
        ```

- 오픈된 모든 뷰를 dismiss 하는 메서드  
    1. 일반적인 상황

        ```swift
        UIApplication.shared.keyWindow?.rootViewController?.dismiss(animated: true, completion: nil)
        ```

    2. 네비게이션 컨트롤러에 embed된 상황  

    ```swift
    self.navigationController?.popToRootViewController(animated: true)
    ```

## New Experience

---

- UITableView Large Title

    ```swift
    // 원래 라지 타이틀을 아래와 같이 설정하는데,
    // 이상하게 바로 적용이 안되고 테이블뷰를 스크롤 해야 라지 타이틀 형태로 보인다.
    // 우선 찾아보긴 했는데, 비슷한 내용이 없어서... 더 찾아봐야겠다.
    navigationItem.largeTitleDisplayMode = .always
    navigationController?.navigationBar.prefersLargeTitles = true
    ```
